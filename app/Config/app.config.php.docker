<?php
// This file is generated by the TranslateAny config creator.
// Feel free to edit it however you want.

use App\Engine\Chat\ChatEngine;
use App\Engine\Chat\ChatDetectEngine;
use App\Engine\Chat\ChatDocumentTranslateEngine;
use App\Engine\OpenAI\OpenAIClient;
use App\System\AppConfig;

use function Tempest\env;

$defaultHost = 'http://host.docker.internal:11434/v1';
$translateHost = env('TRANSLATE_ANY_HOST', $defaultHost);
$detectionHost = env('TRANSLATE_ANY_DETECTION_HOST', $translateHost);
$documentHost = env('TRANSLATE_ANY_DOCUMENT_HOST', $translateHost);

$defaultModel = 'hf.co/bartowski/aya-expanse-8b-GGUF:IQ4_XS';
$translateModel = env('TRANSLATE_ANY_MODEL', $defaultModel);
$detectionModel = env('TRANSLATE_ANY_DETECTION_MODEL', $translateModel);
$documentModel = env('TRANSLATE_ANY_DOCUMENT_MODEL', $translateModel);

return new AppConfig(
    translate: ChatEngine::new(
        client: OpenAIClient::new(
            model: $translateModel,
            host: $translateHost,
        ),
    ),
    detection: ChatDetectEngine::new(
        client: OpenAIClient::new(
            host: $detectionHost,
            model: $detectionModel,
        ),
    ),
    document: ChatDocumentTranslateEngine::new(
        client: OpenAIClient::new(
            host: $documentHost,
            model: $documentModel,
        ),
    ),
    authorizator: null,
    debug: false,
);
